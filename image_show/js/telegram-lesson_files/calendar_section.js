define(["require","exports","tslib","react","deep-integrations/profile_card/sections/calendar_section_box","deep-integrations/profile_card/sections/loading_section","deep-integrations/profile_card/sections/button","deep-integrations/text/text","deep-integrations/profile_card/assets","deep-integrations/icons/icon_outlook_square","deep-integrations/icons/icon_google_calendar_square"],function(e,t,n,o,l,a,r,i,c,s,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var m=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderEvents=function(e){var n=t.props.localization;return e.length>2?o.createElement("div",null,e.slice(0,2).map(t.renderEvent),o.createElement("div",{className:"int-profile-card-cal-section-more-events"},o.createElement(i.Text,{color:"text",size:"small",fontWeight:"normal"},n.calendarMoreMeetings(e.length-2)),o.createElement("a",{href:t.calendarLinkForType(e[2].calendar_event_key.service_type),className:"int-profile-card-cal-section-open-calendar-link"},o.createElement(i.Text,{color:"inherit",size:"small",fontWeight:"normal",textAlign:"right"},n.calendarOpen)))):o.createElement("div",null,e.map(t.renderEvent))},t.renderEvent=function(e,n){var a=!t.props.isZoomConnected,r=new Date(e.start_time),c=new Date(e.end_time),s=o.createElement("div",null,o.createElement("div",{className:"int-profile-card-cal-section-event-description"},o.createElement("a",{className:"int-profile-card-cal-section-event-title",href:e.web_link},o.createElement(i.Text,{color:"inherit",size:"small",fontWeight:"medium"},e.title)),o.createElement("div",{className:"int-profile-card-cal-section-event-time"},o.createElement(i.Text,{color:"text-secondary",size:"small",fontWeight:"normal"},t.props.localization.calendarEventStartEnd(r,c)))));return o.createElement(l.CalendarSectionBox,{key:e.ical_uid,mainComponent:s,connectComponent:0===n&&a?t.renderZoomUpsell():null})},t.renderZoomUpsell=function(){var e=t.props.localization;return o.createElement("div",{className:"int-profile-card-cal-connect"},o.createElement(i.Text,{color:"text",size:"small",fontWeight:"normal"},e.zoomConnectLong(function(e){return o.createElement("a",{href:"",className:"int-profile-card-cal-section-button-connect-cal"},o.createElement(i.Text,{color:"inherit",size:"small",fontWeight:"normal",textAlign:"left"},e.children))},"Zoom")),o.createElement("div",{className:"int-profile-card-cal-section-connect-bottom"},o.createElement(r.SectionButton,null,o.createElement("div",{className:"int-profile-card-cal-section-button-connect-cal"},o.createElement(i.Text,{color:"inherit",size:"small",fontWeight:"normal",textAlign:"left"},e.zoomConnectShort("Zoom")))),o.createElement(r.SectionButton,null,o.createElement("div",{className:"int-profile-card-cal-section-button-not-now"},o.createElement(i.Text,{color:"inherit",size:"small",fontWeight:"normal",textAlign:"left"},e.notNow)))))},t.onSelectDropdownOption=function(e){var n=t.props,o=n.onConnectService,l=n.onConnectServices;switch(e){case"google":o("google");break;case"outlook":o("outlook");break;case"manage_apps":l()}},t}return n.__extends(t,e),t.prototype.render=function(){var e=this.props.localization,t=o.createElement("div",null);if(this.props.anyCalendarsLinked){if(void 0===this.props.calendarEvents)return this.props.loadCalendarEvents(),o.createElement(a.SectionLoading,null);if("pending"===this.props.calendarEvents.state)return o.createElement(a.SectionLoading,null);if("rejected"===this.props.calendarEvents.state)return o.createElement("div",{style:{color:"black"}},e.calendarError);t="fulfilled"===this.props.calendarEvents.state&&0===this.props.calendarEvents.value.length?o.createElement(l.CalendarSectionBox,{key:"No Meetings",mainComponent:o.createElement("div",null,o.createElement(i.Text,{color:"text",size:"small",fontWeight:"normal"},e.calendarNoUpcoming),o.createElement("div",null,o.createElement("div",null,o.createElement("a",{href:"",className:"int-profile-card-cal-section-open-calendar-link"},o.createElement(i.Text,{color:"inherit",size:"small",fontWeight:"normal"},e.calendarOpen)))))}):this.renderEvents(this.props.calendarEvents.value)}else t=o.createElement(l.CalendarSectionBox,{key:"ConnectCalendar",connectComponent:o.createElement("div",{className:"int-profile-card-cal-connect"},o.createElement(i.Text,{color:"text",size:"small",fontWeight:"normal"},e.calendarConnectLong(this.props.targetUser.display_name)),o.createElement("div",{className:"int-profile-card-cal-section-connect-bottom"},this.buildDropdownMenu(),o.createElement(r.SectionButton,null,o.createElement("div",{className:"int-profile-card-cal-section-button-not-now"},o.createElement(i.Text,{color:"inherit",size:"small",fontWeight:"normal",textAlign:"right"},e.notNow)))))});return o.createElement("div",{className:"int-profile-card-cal-section"},o.createElement("div",{className:"int-profile-card-cal-section-title"},o.createElement(i.Text,{color:"text-secondary",size:"small",fontWeight:"medium"},e.calendarSharedMeetings)),t)},t.prototype.calendarLinkForType=function(e){return"google"===e[".tag"]?"https://calendar.google.com/calendar/r":"outlook"===e[".tag"]?"https://outlook.live.com/mail/inbox":""},t.prototype.buildDropdownMenu=function(){var e=this.props,t=e.renderDropdownMenu,n=e.localization,l=[[{title:"Google",value:"google",icon:o.createElement(d.IconGoogleCalendarSquare,{width:26,height:26}),selected:!1},{title:"Outlook",value:"outlook",icon:o.createElement(s.IconOutlookSquare,{width:26,height:26}),selected:!1}],[{title:"Manage Apps",value:"manage_apps",icon:c.gearIcon,selected:!1}]];return t(o.createElement("span",{className:"int-profile-card-cal-section-button-connect-cal"},o.createElement(i.Text,{color:"inherit",size:"small",fontWeight:"normal"},n.calendarConnectShort)),l,this.onSelectDropdownOption)},t})(o.Component);t.CalendarSection=m});
//# sourceMappingURL=calendar_section.min.js-vflt2pu9j.map
define(["require","exports","tslib","esignature/data/actions","esignature/data/selectors","esignature/public/utils","react","external/react-redux","modules/clean/filepath","modules/clean/react/css_timing","modules/clean/file_store/utils","spectrum/file_icon","modules/clean/react/title_bar/base","modules/clean/react/file_viewer/title_bar/controls","modules/clean/react/file_viewer/title_bar/title","modules/clean/react/file_viewer/title_bar/title_breadcrumb","modules/constants/python","modules/core/i18n","external/classnames"],function(e,i,t,s,o,r,l,n,a,d,u,c,f,p,m,h,_,S,b){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),l=t.__importDefault(l),_=t.__importStar(_),b=t.__importDefault(b);var g=(function(e){function i(){var i=null!==e&&e.apply(this,arguments)||this;return i.isSharedFile=function(){return!!i.props.sharedLinkInfo},i.isMountedFile=function(){return!i.isSharedFile()},i.closeButtonTitle=function(){if(i.isMountedFile()){var e=void 0;if(i.props.isVersionHistoryMode)e=S._("Version history");else if(i.props.fileViewOrigin===_.FileViewOriginType.RECENTS)e=S._("Recents");else if(i.props.fileViewOrigin===_.FileViewOriginType.HOME)e=S._("Home");else{if(i.props.fileViewOrigin===_.FileViewOriginType.PHOTOS||i.props.fileViewAction===_.FileViewActionType.SEARCH)return S._("Close");var t=i.props.file;u.isBrowseFile(t)&&t.fq_path&&(e=a.filename(a.parent_dir(t.fq_path)))}if(e)return S._("Back to %(folder)s").format({folder:e})}return S._("Close")},i}return t.__extends(i,e),i.prototype.componentDidMount=function(){var e=this.props.onMount;e&&e()},i.prototype.render=function(){var e=this.props,i=e.canClose,t=e.canRestoreRevision,s=e.closeUrl,o=e.file,n=e.fileSubpath,a=e.hidePageChrome,d=e.isSeenStatesEnabled,_=e.isVersionHistoryMode,S=e.isViewingFileSubpath,g=e.maxFilenameEmLength,F=e.onClose,M=e.onRestoreRevision,v=e.sharedLinkInfo,y=e.sharePermission,C=e.shareToken,w=e.sizeClass,V=e.user,T=e.formMode,E=e.disableFormModes,R=r.esignatureInUse(T),k=v?v.ownerTeamLogo:void 0,B=a?l.default.createElement("div",{className:"file-icon"},l.default.createElement(c.FileIcon,{path:u.getFilename(o)})):null,O=!(!y||0!==y.canViewMetadataRoles.length);return l.default.createElement(f.TitleBarBase,{canClose:i&&!a,className:b.default({"react-title-bar--dark":R}),closeTitle:this.closeButtonTitle(),customLogoUrl:k,file:o,closeUrl:s,onClose:R?E:F,overrideIcon:B,shouldShowIcon:!S,sizeClass:w,title:S?l.default.createElement(h.TitleBreadcrumb,{file:o,fileSubpath:n,sizeClass:w}):l.default.createElement(m.Title,{file:o,maxFilenameEmLength:g,sharedLinkInfo:v,shouldDisplayStarred:!a,shouldDisplayMetadata:!a,sizeClass:w,user:V}),controls:[a||R?null:l.default.createElement(p.SeenStates,{key:"seen-states",file:o,isSeenStatesEnabled:d,isVersionHistoryMode:_,isViewingFileSubpath:S,isViewMetadataDisabled:O,sharedLinkInfo:v,user:V,sizeClass:w}),a?null:l.default.createElement(p.FileActions,{key:"file-actions",canRestoreRevision:t,file:o,isSharedFile:this.isSharedFile(),isVersionHistoryMode:_,onRestoreRevision:M,sharedLinkInfo:v,sharePermission:y,shareToken:C,shouldDisplayActionButtons:!S,sizeClass:w,user:V,formMode:T})]})},i.defaultProps={canClose:!1,canRestoreRevision:!1,isSeenStatesEnabled:!0,isVersionHistoryMode:!1,isSendForSignatureMode:!1,isSigningMode:!1},i})(l.default.Component);i._TitleBar=g;var F=function(e){return{formMode:o.getFormMode(e)}},M=n.connect(F,{disableFormModes:s.disableFormModes})(g),v=d.requireCssWithComponent(M,["/static/css/react_title_bar-vflYvGx7w.css"]);i.TitleBar=v});
//# sourceMappingURL=title_bar_component.min.js-vflRd62ow.map
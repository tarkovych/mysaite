define("modules/clean/query_string_helpers",["require","exports"],function(e,t){"use strict";function a(e){return void 0===e&&(e=window),e.location.search}function r(e){var t={};if(e.length)for(var a=e.substring(1).replace(/&amp;/g,"&").split("&"),r=0,n=a;r<n.length;r++){var o=n[r],i=o.split("="),l=i[0],s=i[1];l&&s&&(l=l.trim(),s=s.trim(),l.length&&s.length&&(t[l]=decodeURIComponent(s.replace(/\+/g," "))))}return t}function n(){return r(a())}function o(e,t){return t.reduce(function(t,a){return e.hasOwnProperty(a)&&(t[a]=e[a]),t},{})}function i(){return o(r(a()),s)}function l(){var e=i();return JSON.stringify(e)}Object.defineProperty(t,"__esModule",{value:!0});var s=["gclid","oqa","trigger","_tk","_camp","_ad","_net","_kw","utm_source","utm_medium"];t.TRACKING_PARAMS_LIST=s,t.getQueryString=a,t.parseQueryString=r,t.getParsedQueryString=n,t.filterQueryObject=o,t.getTrackingParams=i,t.getTrackingParamsAsJSON=l}),define("modules/clean/react/payments/buy/components/account/new_account_input",["require","exports","tslib","react","modules/core/i18n","modules/clean/react/payments/common/form_values","modules/clean/react/payments/common/form_value_helpers","modules/clean/react/payments/buy/components/inputs/inputs","modules/clean/web_timing_logger"],function(e,t,a,r,n,o,i,l,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r=a.__importDefault(r),o=a.__importStar(o);var c=(function(t){function c(){var e=null!==t&&t.apply(this,arguments)||this;return e.onFirstNameChanged=function(t){e.props.actions.updateFirstName(t.value)},e.onLastNameChanged=function(t){e.props.actions.updateLastName(t.value)},e.onEmailChanged=function(t){e.props.actions.updateEmail(t.value)},e.onPasswordChanged=function(t){e.props.actions.updatePassword(t.value)},e.onPasswordBlur=function(t){e.props.actions.showFormFieldErrors(["password"],"PasswordBlur")},e}return a.__extends(c,t),c.prototype.firstNameErrorString=function(){var e=this.props.formData.firstName;return e.showError&&!i.FormValueHelper.isValid(e)?n._("Please enter a valid first name."):""},c.prototype.lastNameErrorString=function(){var e=this.props.formData.lastName;return e.showError&&!i.FormValueHelper.isValid(e)?n._("Please enter a valid last name."):""},c.prototype.emailErrorString=function(){var e=this.props.formData.email;if(e.showError)switch(e.errorState){case o.EmailErrorState.Empty:return n._("Please enter an email address.");case o.EmailErrorState.NoAt:return n._("An email address must contain a single @");case o.EmailErrorState.BadUsername:var t=e.formattedValue.split("@")[0];return n._("The username portion of the email address is invalid               (the portion before the @: %(username)s).").format({username:t});case o.EmailErrorState.BadDomain:var a=e.formattedValue.split("@")[1];return""===a?n._("The domain portion of the email address is invalid                 (the portion after the @)."):n._("The domain portion of the email address is invalid                 (the portion after the @: %(domain)s).").format({domain:a})}return""},c.prototype.passwordErrorString=function(){return this.props.formData.password.showError?n._("Passwords must be 6 characters or more."):""},c.prototype.renderPasswordStrengthMeter=function(e){return this.state&&this.state.passwordStrengthMeter?r.default.createElement(this.state.passwordStrengthMeter,{password:e}):void 0},c.prototype.componentDidMount=function(){return a.__awaiter(this,void 0,void 0,function(){var t;return a.__generator(this,function(r){switch(r.label){case 0:return[4,s.waitForTTI()];case 1:return r.sent(),[4,new Promise(function(t,a){e(["modules/clean/components/password_strength_meter"],t,a)}).then(a.__importStar)];case 2:return t=r.sent().PasswordStrengthMeter,this.setState({passwordStrengthMeter:t}),[2]}})})},c.prototype.render=function(){var e=this.props,t=e.formData,a=e.pageState,o=n._("Email"),i=n._("Password");return r.default.createElement("div",{className:"grid__item account-info grid__item--large--11-12"},r.default.createElement("div",{className:"account-info__name grid__container grid--x-bookend grid--y-top"},r.default.createElement(l.LabeledTextInput,{name:"fname",autocomplete:a.autocomplete?"given-name":"off",labelText:n._("First name"),containerClassName:"grid__item--fluid grid__item--margin-right--1-24",value:t.firstName.rawValue,onChange:this.onFirstNameChanged,errorText:this.firstNameErrorString()}),r.default.createElement(l.LabeledTextInput,{name:"lname",autocomplete:a.autocomplete?"family-name":"off",labelText:n._("Last name"),containerClassName:"grid__item--fluid",value:t.lastName.rawValue,onChange:this.onLastNameChanged,errorText:this.lastNameErrorString()})),r.default.createElement("div",{className:"account-info__cred grid__container grid--x-bookend grid--y-top"},r.default.createElement(l.LabeledTextInput,{name:"account-email",autocomplete:a.autocomplete?"email":"off",type:"email",labelText:o,containerClassName:"grid__item--fluid grid__item--margin-right--1-24",value:t.email.rawValue,onChange:this.onEmailChanged,errorText:this.emailErrorString()}),r.default.createElement("div",{className:"account-info__password grid__item--fluid"},this.renderPasswordStrengthMeter(t.password.rawValue),r.default.createElement(l.LabeledTextInput,{name:"password",type:"password",autocomplete:"new-password",labelText:i,containerClassName:"grid__item",value:t.password.rawValue,onChange:this.onPasswordChanged,onBlur:this.onPasswordBlur,errorText:this.passwordErrorString()}))))},c})(r.default.Component);t.NewAccountInput=c}),define("modules/clean/react/payments/buy/components/buy_purchase_form",["require","exports","tslib","react","external/classnames","modules/core/i18n","modules/clean/raf_throttle","modules/clean/react_format","modules/clean/web_timing_logger","modules/core/browser","modules/core/uri","modules/clean/react/payments/buy/components/account/new_account_input","modules/clean/react/payments/buy/components/plan/schedule_selection","modules/clean/react/payments/buy/components/payments/payment_info_section","modules/clean/analytics","modules/clean/react/payments/buy/components/payments/order_summary","modules/clean/react/payments/buy/components/payments/worldpay_entity_info","modules/clean/react/payments/buy/components/plan/exp_plan_selection","modules/clean/react/async/loadable","modules/clean/payments/payment_form/payment_form_spec"],function(e,t,a,r,n,o,i,l,s,c,u,d,m,p,f,_,h,y,g,v){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r=a.__importDefault(r),n=a.__importDefault(n),s=a.__importStar(s),c=a.__importStar(c);var b=g.Loadable({loader:function(){return new Promise(function(t,a){e(["modules/clean/react/payments/buy/components/account/user_selector"],t,a)}).then(a.__importStar).then(function(e){return e.UserSelectorPanel})}}),P=(function(e){function t(t){var a=e.call(this,t)||this;if(a.submitForm=function(e){e.preventDefault();var t=(o={},o[v.PaymentMethod.CreditCard]="/pro/ajax_buy",o[v.PaymentMethod.PayPal]="/pro/ajax_paypal_buy",o[v.PaymentMethod.DirectDeposit]="/payments/ajax_sepa_buy",o[v.PaymentMethod.Ideal]="/payments/ajax_ideal_buy",o),r=a.props.formData.paymentMethod.formattedValue,n={cont:a.props.continueURI,is_pro_buy_form:!0};a.props.actions.submitProBuyForm(t[r],a.prepareForSubmission.bind(a),!1,!0,a.props.showCpf,a.props.showCpfName,a.props.pageState,n,a.shouldUseSelectedUser());var o},a.submitTryForm=function(e){e.preventDefault();var t=(i={},i[v.PaymentMethod.CreditCard]="/pro/ajax_try",i[v.PaymentMethod.PayPal]="/pro/ajax_paypal_try",i);f.ProEventsLogger.log("clicked_start_free_trial_cta");var r=a.props.formData.paymentMethod.formattedValue,n={cont:a.props.continueURI,is_pro_buy_form:!0},o=u.URI.parse(c.get_href_no_hash()).getQuery().existing_trial_days;o&&(n.existing_trial_days=parseInt(o,10));a.props.actions.submitProBuyForm(t[r],a.prepareForSubmission.bind(a),!1,!0,a.props.showCpf,a.props.showCpfName,a.props.pageState,n);var i},a.handleChange=function(){var e="none";if(window.innerWidth>=736){var t=a.state.elementPositions,r=window.pageYOffset||document.documentElement.scrollTop,n=t.columnTop-a.stickyColumnBuffer,o=t.paymentSectionTop-a.stickyColumnBuffer;e=r>=n&&r<=o?"fixed":r>o?"flex-end":"flex-start"}a.state.stickyElementState!==e&&a.setState({stickyElementState:e})},a.handleResize=function(){a.getElementPositions()},a.getElementPositions=function(){var e=a.summaryColumn.getBoundingClientRect(),t=a.stickyElement.getBoundingClientRect(),r=a.paymentSection.getBoundingClientRect(),n={columnTop:e.top+window.pageYOffset,columnLeft:e.left+window.pageXOffset,columnWidth:e.width,paymentSectionTop:r.top+window.pageYOffset,stickyElementHeight:t.height,windowWidth:document.documentElement.clientWidth};a.setState({elementPositions:n},a.handleChange)},a.onLoginClick=function(e){e.preventDefault(),a.props.actions.toggleExistingAccount()},a.onCreateClick=function(e){e.preventDefault(),a.props.actions.toggleNewAccount()},a.handlePress=function(e){e||(e=window.event),"13"!==(e.keyCode||e.which)&&"Enter"!==e.key||(e.preventDefault(),a.submitForm(e))},a.updateSelectedUser=function(e){a.props.actions.updateSelectedUser(e)},a.createCreateLink=function(){var e=a.props.pageState,t=e.preauthUser?e.showCreateAccount?"choose an account":"create an account":"use existing Dropbox account",n=e.preauthUser?a.onCreateClick:a.onLoginClick;return r.default.createElement("div",{className:"payment-form__login"},l.reactFormat(o._("or <create_account>%(create_link_text)s</create_account>"),{create_account:r.default.createElement("button",{key:"account-toggle",className:"account-toggle button--as-link",onClick:n}),create_link_text:t}))},a.scrollThrottle=new i.RafThrottle(a.handleChange),a.resizeThrottle=new i.RafThrottle(a.handleResize),a.stickyColumnBuffer=50,a.state={stickyElementState:"flex-start",elementPositions:{columnTop:250,columnLeft:45,columnWidth:500,paymentSectionTop:900,stickyElementHeight:550,windowWidth:1e3},hasLoadedSubChangePlans:!1},a.props.showTrialVersion){var n=a.props.pageState.paymentFormSpec;a.props.actions.updatePaymentMethod(n.default_payment_method())}return a}return a.__extends(t,e),t.prototype.prepareForSubmission=function(){return this.paymentInfoSection.prepareForSubmission()},t.prototype.shouldUseSelectedUser=function(){return"V1"===this.props.experiments.subgrowthBuyUniversalPreauth&&null!=this.props.pageState.suggestedUser&&!this.props.pageState.showCreateAccount||"V1"===this.props.experiments.subgrowthProBuyPreauthAccountChooser&&null!=this.props.pageState.preauthUser&&!this.props.pageState.showCreateAccount},t.prototype.componentDidMount=function(){s.mark_time_to_interactive(),this.getElementPositions(),window.addEventListener("scroll",this.scrollThrottle.request),window.addEventListener("resize",this.resizeThrottle.request),"orientation"in window&&window.addEventListener("orientationchange",this.resizeThrottle.request)},t.prototype.componentDidUpdate=function(e,t){var a=this.props.pricingState;!this.state.hasLoadedSubChangePlans&&a.currentTransitionPrices.totalPrice&&(this.handleResize(),this.setState({hasLoadedSubChangePlans:!0}))},t.prototype.componentWillUnmount=function(){window.removeEventListener("scroll",this.scrollThrottle.request),window.removeEventListener("resize",this.resizeThrottle.request)},t.prototype.getSectionHeaders=function(){var e,t=o._("1. Choose your billing cycle"),a=o._("2. Enter payment details");this.props.pageState.userInfo.email||(e=o._("2. Create your account"),a=o._("3. Enter payment details"));var r=void 0;"V1"===this.props.experiments.subgrowthBuyUniversalPreauth&&(r=o._("2. Choose account")),"V1"===this.props.experiments.subgrowthProBuyPreauthAccountChooser&&(r=o._("2. Choose an account"),e=o._("2. Create your account"));var n=void 0;return this.props.pageState.showPlanSwitchRadios&&(n=o._("1. Choose your space"),t=o._("2. Choose your billing cycle"),e=o._("3. Create your account"),r=o._("3. Choose account"),a=o._("4. Enter payment details")),{billingSchedule:t,createAccount:e,paymentInfo:a,chooseAccount:r,chooseSpace:n}},t.prototype.renderPaymentForm=function(){var e,t=this,a=this.props,n=a.ccIframeUrl,i=a.countryList,s=a.experiments,c=a.idealBanks,u=a.initialPricingStrings,f=a.locale,_=a.formData,h=a.pageState,g=a.pricingState,v=a.showTrialVersion,P=a.proTrialDays,C=a.quotaStrings,E=a.updateHistory,S=a.useAUTaxInclusivePricing,w=this.getSectionHeaders();h.showPlanSwitchRadios&&(e=r.default.createElement("section",{className:"payment-form__section--plan-selection grid__item"},r.default.createElement("hr",{"aria-hidden":"true",className:"payment-form__divider grid__item payment-form__divider"}),r.default.createElement("div",{className:"payment-form__header grid__item"},w.chooseSpace),r.default.createElement(y.ExpPlanSelection,{actions:this.props.actions,productPlanType:_.productPlanType.rawValue,quotaStrings:C,updateHistory:E,proTrialDays:P})));var N,k=r.default.createElement("section",{className:"payment-form__section--schedule-selection grid__item"},r.default.createElement("hr",{"aria-hidden":"true",className:"payment-form__divider grid__item payment-form__divider"}),r.default.createElement("div",{className:"payment-form__header grid__item"},w.billingSchedule),r.default.createElement(m.ScheduleSelection,{actions:this.props.actions,formData:_,locale:f,displayPrices:g.displayPrices,initialPricingStrings:u,subgrowthProBuyStep2PricingMessaging:s.subgrowthProBuyStep2PricingMessaging,useAUTaxInclusivePricing:S})),x=h.suggestedUser&&"V1"===s.subgrowthBuyUniversalPreauth;N=x?r.default.createElement("div",{className:"payment-form__login"},l.reactFormat(o._("or <existing_account>choose an account</existing_account>"),{existing_account:r.default.createElement("button",{key:"account-toggle",className:"account-toggle button--as-link",onClick:this.onCreateClick})})):r.default.createElement("div",{className:"payment-form__login"},l.reactFormat(o._("or <existing_account>use existing Dropbox account</existing_account>"),{existing_account:r.default.createElement("button",{key:"account-toggle",className:"account-toggle button--as-link",onClick:this.onLoginClick})}));var T;if(!h.userInfo.email||h.preauthUser){if(h.preauthUser||(T=r.default.createElement("section",{className:"payment-form__section grid__item"},r.default.createElement("hr",{"aria-hidden":"true",className:"payment-form__divider grid__item"}),r.default.createElement("div",{className:"payment-form__header grid__container grid--x-bookend"},r.default.createElement("div",{className:"payment-form__header--account"},w.createAccount),N),r.default.createElement(d.NewAccountInput,{actions:this.props.actions,pageState:h,formData:_}))),x&&h.suggestedUser&&!h.showCreateAccount){var I=r.default.createElement("div",{className:"payment-form__login"},l.reactFormat(o._("or <create_account>create an account</create_account>"),{create_account:r.default.createElement("button",{key:"account-toggle",className:"account-toggle button--as-link",onClick:this.onCreateClick})}));T=r.default.createElement("section",{className:"payment-form__section grid__item"},r.default.createElement("hr",{"aria-hidden":"true",className:"payment-form__divider grid__item"}),r.default.createElement("div",{className:"payment-form__header grid__container grid--x-bookend"},r.default.createElement("div",{className:"payment-form__header--account"},w.chooseAccount),I),r.default.createElement(b,{users:[h.suggestedUser],selected:_.selectedUser.hasSelection?_.selectedUser.rawValue:void 0,onClickUser:this.updateSelectedUser,onDeselect:this.updateSelectedUser,onClickLogin:this.onLoginClick,error:_.selectedUser.showError?o._("Please select or create an account to upgrade."):void 0}))}if("V1"===s.subgrowthProBuyPreauthAccountChooser){var I=this.createCreateLink();T=h.preauthUser&&!h.showCreateAccount?r.default.createElement("section",{className:"payment-form__section grid__item"},r.default.createElement("hr",{"aria-hidden":"true",className:"payment-form__divider grid__item"}),r.default.createElement("div",{className:"payment-form__header grid__container grid--x-bookend"},r.default.createElement("div",{className:"payment-form__header--account"},w.chooseAccount),I),r.default.createElement(b,{users:[h.preauthUser],selected:_.selectedUser.hasSelection?_.selectedUser.rawValue:void 0,onClickUser:this.updateSelectedUser,onDeselect:this.updateSelectedUser,onClickLogin:this.onLoginClick,error:_.selectedUser.showError?o._("Please select or create an account to upgrade."):void 0,isPreauth:!0})):r.default.createElement("section",{className:"payment-form__section grid__item"},r.default.createElement("hr",{"aria-hidden":"true",className:"payment-form__divider grid__item"}),r.default.createElement("div",{className:"payment-form__header grid__container grid--x-bookend"},r.default.createElement("div",{className:"payment-form__header--account"},w.createAccount),I),r.default.createElement(d.NewAccountInput,{actions:this.props.actions,pageState:h,formData:_}))}}var M=r.default.createElement("section",{className:"payment-form__section--billing grid__item",ref:function(e){t.paymentSection=e}},r.default.createElement("hr",{"aria-hidden":"true",className:"payment-form__divider grid__item"}),r.default.createElement("div",{className:"payment-form__header grid__item"},w.paymentInfo),r.default.createElement(p.PaymentInfoSection,{showSepaLogo:"V1"===s.subgrowthProBuyReplaceDebitWithSepaLogo,paymentSpec:h.paymentFormSpec,iframeUrl:n,idealBanks:c,countryList:i,formData:_,productPlanType:this.props.productPlanType,showCpf:this.props.showCpf,showCpfName:this.props.showCpfName,optimizeCpf:h.optimizeCpf,actions:this.props.actions,ref:function(e){t.paymentInfoSection=e},showTrialVersion:v}));return r.default.createElement("form",{className:"payment-form grid__container",onKeyPress:this.handlePress},e,k,T,M)},t.prototype.renderOrderSummary=function(){var e=this.props,t=e.taxNamesByCountry,a=e.formData,n=e.pageState,o=e.pricingState,i=e.showTrialVersion;return r.default.createElement("div",{className:"grid__item"},r.default.createElement(_.OrderSummary,{actions:this.props.actions,formData:a,currentTransitionPrices:o.currentTransitionPrices,loadingPrices:o.loadingPrices,onClick:this.submitForm,onTryClick:this.submitTryForm,pageState:n,planName:this.props.planName,taxNamesByCountry:t,showTrialVersion:i}))},t.prototype.renderIncludedFeatures=function(){var e=this.props.includedFeaturesContent,t=this.props.experiments,a="ON"===t.subgrowthProBuyFeaturesMobile,o=n.default({"included-features":!0,grid__container:!0,"included-features--show-on-mobile":a});return r.default.createElement("div",{className:o},r.default.createElement("p",{className:"included-features__title grid__item"},e.title),r.default.createElement("ul",{className:"included-features__list grid__container"},e.items.map(function(e,t){return r.default.createElement("li",{className:"included-features__feature grid__item--1-2",key:"included-"+t},e.text)})))},t.prototype.renderWorldpayEntityText=function(){return t.excludeWorldpayEntityTextForCountry.indexOf(this.props.formData.countryCode.formattedValue)===-1?r.default.createElement(h.WorldPayEntityInfo,null):null},t.prototype.render=function(){var e,t=this,n=this.state,o=n.elementPositions,i=n.stickyElementState,l="flex-start",s={msFlexAlign:"start"};if("flex-end"===i&&(l="flex-end",s={msFlexAlign:"end"}),"none"!==i){var c=o.paymentSectionTop-o.columnTop+o.stickyElementHeight;e=a.__assign({height:c,alignItems:l},s)}else e={alignItems:l,width:o.windowWidth,maxWidth:o.windowWidth};var u={};return"fixed"===i&&(u={position:"fixed",top:this.stickyColumnBuffer,left:o.columnLeft,width:o.columnWidth}),r.default.createElement("div",{className:"PurchaseForm grid__container"},r.default.createElement("div",{className:"grid__item grid__item--medium--11-24"},this.renderPaymentForm()),r.default.createElement("div",{className:"grid__item--medium--1-12"}),r.default.createElement("div",{className:"grid__item grid__item--medium--11-24 PurchaseForm__summary-col",style:e,ref:function(e){t.summaryColumn=e}},r.default.createElement("div",{className:"grid__item",style:u,ref:function(e){t.stickyElement=e}},this.renderOrderSummary(),this.renderIncludedFeatures())),r.default.createElement("div",{className:"grid__item"},this.renderWorldpayEntityText()))},t.excludeWorldpayEntityTextForCountry=["US","CA","MX"],t})(r.default.Component);t.BuyPurchaseForm=P}),define("modules/clean/react/payments/buy/components/payments/cpf_tooltip",["require","exports","tslib","react","modules/core/i18n"],function(e,t,a,r,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r=a.__importDefault(r);var o=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a.__extends(t,e),t.prototype.render=function(){var e=n._("The Cadastro de Pessoas Físicas (CPF) is the the Brazilian individual taxpayer registry identification number. It has 11 digits and can be found on your CPF card. It consists of numbers, dots and a dash, as in the following example: 100.001.101-00."),t=n._("The Cadastro Nacional da Pessoa Jurídica, or most commonly known as CNPJ, is a number that identifies legal entities and other legal arrangements at the Federal Revenue Service of Brazil. It has functions similar to those of the CPF, the only difference being that it is unique to the use of legal entities. It is a 14-digit number with a certain format, like in the following example: 00.000.000/0001-00");return r.default.createElement("div",{className:"cpf-tooltip-contents"},r.default.createElement("p",{className:"cpf-tooltip-contents__header"},n._("What is CPF?")),r.default.createElement("p",null,e),r.default.createElement("p",{className:"cpf-tooltip-contents__header"},n._("What is CNPJ?")),r.default.createElement("p",null,t))},t})(r.default.Component);t.CPFTooltip=o}),define("modules/clean/react/payments/buy/components/payments/ideal_form",["require","exports","tslib","react","modules/clean/react/payments/buy/components/inputs/inputs","modules/core/i18n"],function(e,t,a,r,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r=a.__importDefault(r);var i=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onIdealBankChange=function(e){var a=e.value,r=t.props.idealBanks[a];t.props.actions.updateIdealBank({bankId:a,bankName:r})},t}return a.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.formData,a=e.idealBanks,i=o._("Note: We’ll use your bank information provided by iDEAL     for all future billing cycles. If your bank is not listed, then please select a     different payment method."),l=t.idealBankId.errorState&&t.idealBankId.showError;return r.default.createElement("div",{className:"ideal-container"},r.default.createElement("div",{className:"ideal-fields"},r.default.createElement(n.LabeledSelectInput,{name:"ideal_bank",labelText:o._("Bank"),value:t.idealBankId.rawValue,onChange:this.onIdealBankChange,hasError:Boolean(l)},r.default.createElement("option",{value:"",key:"default","aria-selected":""===t.idealBankId.rawValue},o._("Select your bank...")),Object.keys(a).map(function(e){return r.default.createElement("option",{value:e,key:e,"aria-selected":t.idealBankId.rawValue===e},a[e])}))),this.props.locationFields,r.default.createElement("div",{className:"ideal-note"},i))},t})(r.default.Component);t.IdealForm=i}),define("modules/clean/react/payments/buy/components/payments/order_summary",["require","exports","tslib","react","external/classnames","modules/core/i18n","modules/clean/react/payments/buy/components/payments/tos","modules/clean/react/rebrand/elements/rebrand_buttons","spectrum/button","modules/core/browser","modules/clean/analytics"],function(e,t,a,r,n,o,i,l,s,c,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r=a.__importDefault(r),n=a.__importDefault(n),c=a.__importStar(c);var d=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onClickRedirectToBuy=function(){u.ProEventsLogger.log("clicked_buy_directly_cta"),c.redirect("/buy/professional")},t}return a.__extends(t,e),t.prototype.getTaxNameForCountry=function(e){return this.props.taxNamesByCountry[e||"null"]},t.prototype.renderTaxElement=function(){var e=this.props.currentTransitionPrices,t=e.taxCountryCode,a=e.taxPercentage,n=e.taxAmount,i=this.props.showTrialVersion,l=this.getTaxNameForCountry(t),s=i?"order-summary__strike":"";if(n&&n.amount&&a&&a>0){var c=o.format_percent(a),u=n.toString();return r.default.createElement("div",{className:"order-summary__tax grid__item"},o._("%(tax_name)s (%(tax_percent)s):").format({tax_name:l,tax_percent:c})," ",r.default.createElement("span",{className:s},o._("%(tax_amount)s").format({tax_amount:u})))}},t.prototype.renderWithheldTaxElement=function(){var e=this.props.currentTransitionPrices,t=e.taxCountryCode,a=e.withheldTaxAmount,n=e.withheldTaxPercentage,i=this.getTaxNameForCountry(t);if(a&&a.amount&&n&&n>0){var l=o.format_percent(n),s=a.toString();return r.default.createElement("div",{className:"order-summary__withheld_tax grid__item"},o._("Withheld %(tax_name)s (%(tax_percent)s): %(tax_amount)s").format({tax_name:i,tax_percent:l,tax_amount:s}))}},t.prototype.renderTotalPriceElement=function(e){var t=r.default.createElement("div",{className:"order-summary__price grid__item"},o._("Billed Now: %(total_price)s").format({total_price:e})),a=r.default.createElement("div",{className:"order-summary__price grid__item"},o._("Charged Now:")," ",r.default.createElement("span",{className:"order-summary__strike order-summary__padding-left"},o._("%(total_price)s").format({total_price:e}))," ",r.default.createElement("span",{className:"order-summary__free-price order-summary__padding-left"},o._("FREE").format({total_price:e})));return this.props.showTrialVersion?a:t},t.prototype.renderCTA=function(){var e=this.props.loadingPrices||this.props.pageState.submitting,t=n.default({"button--submit":!0,"button--loading":e,grid__item:!0,"order-summary__button":!0}),a=this.props.showTrialVersion?o._("Start your free trial"):o._("Buy now"),i=a;e&&(i=r.default.createElement("div",{className:"loader"},r.default.createElement("span",null),r.default.createElement("span",null),r.default.createElement("span",null)));var c=this.props.showTrialVersion?this.props.onTryClick:this.props.onClick;return this.props.showServerViewVersion?r.default.createElement(s.Button,{"aria-label":a,variant:"primary",size:"large",type:"submit",className:t,onClick:c,disabled:e},i):r.default.createElement(l.RebrandButton,{ariaLabel:a,importance:"primary",size:"medium",type:"submit",className:t,onClick:c,disabled:e},i)},t.prototype.renderError=function(){var e=n.default({"form-error":!0,"form-error--enabled":this.props.pageState.hasFormError});return r.default.createElement("p",{className:e,"aria-live":"assertive"},o._("Please correct the form errors and try again"))},t.prototype.render=function(){var e,t,a,l=this.props,s=l.actions,c=l.formData,u=l.planName,d=l.showServerViewVersion,m=this.props.currentTransitionPrices,p=m.totalPrice,f=m.currency;p&&(e=p.toString(),t=this.renderTotalPriceElement(e),a=p.formatCurrency(2));var _,h=this.renderTaxElement(),y=this.renderWithheldTaxElement();f&&p&&(_=r.default.createElement(i.TermsOfService,{actions:s,currency:f,formData:c,totalPrice:a,showTrialVersion:this.props.showTrialVersion}));var g=this.props.loadingPrices||this.props.pageState.submitting,v=n.default({"button-as-link":!0,"order-summary__button":!0,"order-summary__buy-button":!0,grid__item:!0,"order-summary__buy-button-disabled":g,"ProTryServerView__secondary-button":this.props.showServerViewVersion}),b=r.default.createElement("button",{className:v,onClick:this.onClickRedirectToBuy},o._("Or buy Dropbox Professional now")),P=n.default({"ProTryServerView__order-summary":d,"order-summary":!0,grid__container:!0}),C=n.default({"ProTryServerView__order-card":d,"order-summary__card":!0,grid__item:!0}),E=d?null:r.default.createElement("div",{className:"card-top card-top--"+u+" grid__item"});return r.default.createElement("div",{className:P},E,r.default.createElement("div",{className:C},r.default.createElement("div",{className:"order-summary__plan-name grid__item"},o._("Dropbox %(plan_name)s").format({plan_name:u})),r.default.createElement("div",{className:"order-summary__line-items grid__item"},h,y,t),_,this.renderCTA(),this.props.showTrialVersion?b:void 0,this.renderError()))},t})(r.default.Component);t.OrderSummary=d}),define("modules/clean/react/payments/buy/components/payments/payment_info_section",["require","exports","tslib","react","external/classnames","modules/clean/react/tooltip","modules/clean/react/image","modules/clean/static_urls","modules/clean/analytics","modules/clean/payments/payment_form/payment_form_spec","modules/clean/payments/skus/constants","modules/clean/payments/validation","modules/core/i18n","modules/clean/react/payments/buy/components/inputs/inputs","modules/clean/react/payments/common/form_value_helpers","modules/clean/react/payments/buy/components/payments/ideal_form","modules/clean/react/payments/buy/components/payments/payment_method_selector","modules/clean/react/payments/buy/components/payments/cpf_tooltip","modules/clean/react/payments/checkout/components/payment_method_form/credit_card_frame","modules/clean/react/payments/checkout/components/payment_method_form/direct_debit_form"],function(e,t,a,r,n,o,i,l,s,c,u,d,m,p,f,_,h,y,g,v){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r=a.__importDefault(r),n=a.__importDefault(n);var b=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onCountryCodeChange=function(e){t.props.actions.updateCountryCode(e.value);var a=e.value;s.ProEventsLogger.log("uj-billing-country",{country:a}),"BR"===a&&t.props.showCpf&&s.ProEventsLogger.log("uj-cpf-viewed-field")},t.onZipCodeChange=function(e){t.props.actions.updateZipCode(e.value)},t.onVatChange=function(e){t.props.actions.updateVat(e.value)},t.onCpfChange=function(e){t.props.actions.updateCpf(e.value)},t.onCpfNameChange=function(e){t.props.actions.updateCpfName(e.value)},t}return a.__extends(t,e),t.prototype.componentDidMount=function(){var e=this.props.formData.countryCode.formattedValue;s.ProEventsLogger.log("uj-billing-country",{country:e}),"BR"===e&&this.props.showCpf&&s.ProEventsLogger.log("uj-cpf-viewed-field")},t.prototype.prepareForSubmission=function(){return this.props.formData.paymentMethod.formattedValue===c.PaymentMethod.CreditCard?this.creditCardFrame.tokenize():Promise.resolve(!0)},t.prototype.vatErrorString=function(){var e=this.props.formData.vat;return!f.FormValueHelper.isValid(e)&&e.showError?m._("Please enter a valid VAT number (ex: %(examples)s).").format({examples:d.getVatExamples(this.props.formData.countryCode.formattedValue).join(", ")}):""},t.prototype.cpfErrorString=function(){var e=this.props.formData.cpf;return!f.FormValueHelper.isValid(e)&&e.showError?m._("Please enter a valid CPF number."):""},t.prototype.renderLocationFields=function(){var e=this.props,t=e.countryList,a=e.paymentSpec,s=e.formData,c=e.productPlanType,_=e.optimizeCpf,h=m._("Postal Code",{comment:"This is the label for the zip code field, and should be kept short."}),g="US"===s.countryCode.formattedValue?m._("Billing ZIP"):h,v=!a.allow_zip_code_for_country(s.countryCode.formattedValue),b=s.zipCode.errorState&&s.zipCode.showError,P=t.map(function(e){var t=e[0],a=e[1];return r.default.createElement("option",{key:"location-"+t,value:t,"aria-selected":t===s.countryCode.formattedValue},a)}),C=null;if(a.should_show_vat_for_country(s.countryCode.formattedValue)&&c===u.ProductPlanType.PROFESSIONAL){var E=s.vat.errorState&&s.vat.showError,S=d.getVatPrefix(s.countryCode.formattedValue),w=n.default({"payment-info__vat-input":!0,"payment-info__vat-input--valid":""!==s.vat.formattedValue&&f.FormValueHelper.isValid(s.vat)});C=r.default.createElement(p.LabeledTextInput,{className:"payment-info__vat",inputClassName:w,containerClassName:"grid__item",name:"vat",labelText:m._("VAT number (optional)"),placeholder:S,
hasError:Boolean(E),value:s.vat.rawValue,onChange:this.onVatChange})}var N=null;if(this.props.showCpf&&a.should_require_cpf(s.countryCode.formattedValue,s.paymentMethod.formattedValue)){var k=s.cpf.errorState&&s.cpf.showError,x=n.default({"payment-info__cpf-input":!0,"payment-info__cpf-input--valid":""!==s.cpf.formattedValue&&f.FormValueHelper.isValid(s.cpf)}),T=void 0,I=void 0;_?(T=r.default.createElement("span",null,m._("CPF/CNPJ"),r.default.createElement(o.Tooltip,{position:o.TooltipPosition.RIGHT,tooltip_contents:r.default.createElement(y.CPFTooltip,null),is_focusable:!0},r.default.createElement(i.Image,{className:"cpf-tooltip-icon",src:l.static_url("/static/images/payments/buy/rebrand-info-vflRPzJtZ.png"),srcHiRes:l.static_url("/static/images/payments/buy/rebrand-info@2x-vflc1SGxi.png"),alt:m._("More information"),width:15,height:15}))),I=m._("e.g. 100.001.101-00",{comment:"This is being used as a placeholder value for a Brazilian payment form field"})):T=m._("CPF/CNPJ"),N=r.default.createElement("div",{className:"grid__item"},r.default.createElement(p.LabeledTextInput,{className:"",inputClassName:x,containerClassName:"grid__item payment-info__cpf",name:"cpf",labelText:T,hasError:Boolean(k),value:s.cpf.rawValue,onChange:this.onCpfChange,placeholder:I}),this.props.showCpfName&&r.default.createElement(p.LabeledTextInput,{className:"",containerClassName:"grid__item",name:"cpf_name",labelText:m._("Name"),value:s.cpfName.rawValue,onChange:this.onCpfNameChange}))}return r.default.createElement("div",{className:"grid__item"},r.default.createElement(p.LabeledInputRow,{className:"payment-info__location grid__item grid--x-bookend grid--y-top"},r.default.createElement(p.LabeledSelectInput,{className:"payment-info__country",containerClassName:"grid__item--2-3",labelText:m._("Country"),name:"country_code",onChange:this.onCountryCodeChange,value:s.countryCode.rawValue},P),r.default.createElement(p.LabeledTextInput,{className:"payment-info__zip",containerClassName:"grid__item--7-24",name:"zip",autocomplete:"postal-code",labelText:g,value:s.zipCode.rawValue,hasError:Boolean(b),disabled:v,onChange:this.onZipCodeChange})),C,N)},t.prototype.renderPaymentMethodSelector=function(){var e=this.props,t=e.paymentSpec,a=e.formData,n=e.showSepaLogo,o=e.showTrialVersion;return r.default.createElement(h.PaymentMethodSelector,{showSepaLogo:n,paymentSpec:t,paymentMethod:a.paymentMethod.rawValue,updatePaymentMethod:this.props.actions.updatePaymentMethod,countryCode:a.countryCode.rawValue,zipCode:a.zipCode.rawValue,showTrialVersion:o})},t.prototype.renderErrors=function(){var e=this.props.formData,t=[];return e.nonce.showError&&e.paymentMethod.formattedValue===c.PaymentMethod.CreditCard&&(e.nonce.isCCNValid||t.push(m._("Please enter a valid credit card number.")),e.nonce.isCCodeValid||t.push(m._("Please enter a valid CVV.")),e.nonce.isCCExpValid||t.push(m._("Please enter a valid expiration date."))),e.paymentMethod.formattedValue===c.PaymentMethod.DirectDeposit&&(e.accountHolderName.errorState&&e.accountHolderName.showError&&t.push(m._("Please enter the account holder’s name.")),e.iban.errorState&&e.iban.showError&&t.push(m._("Please enter a valid bank account number."))),e.paymentMethod.formattedValue===c.PaymentMethod.Ideal&&e.idealBankId.errorState&&e.idealBankId.showError&&t.push(m._("Please select your bank.")),e.zipCode.errorState&&e.zipCode.showError&&t.push(m._("Please enter a valid postal code.")),e.vat.errorState&&t.push(this.vatErrorString()),e.cpf.errorState&&t.push(this.cpfErrorString()),t.length>0?r.default.createElement("div",{className:"payment-info__errors"},t.map(function(e){return r.default.createElement("div",{key:e},e)})):null},t.prototype.render=function(){var e=this,t=this.props,a=t.actions,n=t.formData,o=t.idealBanks,i=this.renderLocationFields(),l=i;return n.paymentMethod.formattedValue===c.PaymentMethod.DirectDeposit?l=r.default.createElement(v.DirectDebitForm,{locationFields:i,formData:n,actions:a}):n.paymentMethod.formattedValue===c.PaymentMethod.Ideal&&(l=r.default.createElement(_.IdealForm,{locationFields:i,formData:n,actions:a,idealBanks:o})),r.default.createElement("div",{className:"payment-info grid__container"},this.renderPaymentMethodSelector(),r.default.createElement("div",{className:"grid__item grid__item--large--3-4"},r.default.createElement(g.CreditCardFrame,{iframeUrl:this.props.iframeUrl,hidden:n.paymentMethod.formattedValue!==c.PaymentMethod.CreditCard,actions:this.props.actions,ref:function(t){e.creditCardFrame=t},nonce:n.nonce,bin:n.bin}),l),this.renderErrors())},t})(r.default.Component);t.PaymentInfoSection=b}),define("modules/clean/react/payments/buy/components/payments/payment_method_input",["require","exports","tslib","react","external/classnames","modules/core/i18n","modules/clean/payments/payment_form/payment_form_spec","modules/clean/react/payments/buy/components/inputs/inputs"],function(e,t,a,r,n,o,i,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r=a.__importDefault(r),n=a.__importDefault(n);var s=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onChange=function(e){t.props.onSelected(t.props.paymentMethod)},t}return a.__extends(t,e),t.prototype.render=function(){var e,t=this.props,a=t.icons,s=t.labelText,c=t.paymentMethod,u=[],d=n.default({"payment-info__option":!0,"grid__item--shrink":!0,"grid--y-middle":!0}),m="",p="";if(a){if(c===i.PaymentMethod.CreditCard){var f=a.join(", ").replace("_","-"),_=o._("Credit card. We accept %(payment_methods)s.").format({payment_methods:f});e="payment-method-label#creditcard",m=e,p="payment-method-radio#creditcard",u.push(r.default.createElement("span",{key:e,id:m,className:"ax-visually-hidden","aria-hidden":"true"},_))}else c===i.PaymentMethod.PayPal?(e="payment-method-label#paypal",m=e,p="payment-method-radio#paypal",u.push(r.default.createElement("span",{key:e,id:m,className:"ax-visually-hidden","aria-hidden":"true"},o._("Paypal")))):c===i.PaymentMethod.Ideal&&(e="payment-method-label#ideal",m=e,p="payment-method-radio#ideal",u.push(r.default.createElement("span",{key:e,id:m,className:"ax-visually-hidden","aria-hidden":"true"},o._("iDEAL"))));for(var h=0,y=a;h<y.length;h++){var g=y[h];e="payment-method-icon#"+g,u.push(r.default.createElement("span",{title:g,key:e,className:g}))}}s&&(e="payment-method-label#debit",m=e,p="payment-method-radio#debit",u.push(r.default.createElement("span",{title:"debit",key:e,id:m,className:"debit","aria-hidden":"true"},this.props.labelText)));var v=r.default.createElement("span",{className:"payment-info__method-label",onClick:this.onChange},u);return r.default.createElement("div",{className:d},r.default.createElement(l.LabeledRadioInput,{name:"payment_method",className:"payment-info__payment",inputId:p,ariaLabelId:m,value:c.toString(),checked:this.props.selected,onClickOrChange:this.onChange,labelSpan:v}))},t})(r.default.Component);t.PaymentMethodInput=s}),define("modules/clean/react/payments/buy/components/payments/payment_method_selector",["require","exports","tslib","react","modules/core/i18n","modules/clean/payments/payment_form/payment_form_spec","modules/clean/react/payments/buy/components/payments/payment_method_input"],function(e,t,a,r,n,o,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r=a.__importDefault(r);var l=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onPaymentMethodSelected=function(e){t.props.updatePaymentMethod(e)},t}return a.__extends(t,e),t.prototype.getLabelForMethodId=function(e){if(e===o.PaymentMethod.CreditCard)return r.default.createElement(i.PaymentMethodInput,{key:"payment-method#"+e,paymentMethod:o.PaymentMethod.CreditCard,selected:this.props.paymentMethod===o.PaymentMethod.CreditCard,onSelected:this.onPaymentMethodSelected,icons:this.props.paymentSpec.supported_credit_cards_for_country(this.props.countryCode)});if(e===o.PaymentMethod.PayPal)return r.default.createElement(i.PaymentMethodInput,{key:"payment-method#"+e,paymentMethod:o.PaymentMethod.PayPal,selected:this.props.paymentMethod===o.PaymentMethod.PayPal,onSelected:this.onPaymentMethodSelected,icons:["paypal"]});if(e===o.PaymentMethod.DirectDeposit){var t=void 0;return this.props.showSepaLogo&&(t=["sepa"]),r.default.createElement(i.PaymentMethodInput,{key:"payment-method#"+e,paymentMethod:o.PaymentMethod.DirectDeposit,selected:this.props.paymentMethod===o.PaymentMethod.DirectDeposit,onSelected:this.onPaymentMethodSelected,icons:t,labelText:n._("Direct Debit")})}return e===o.PaymentMethod.Ideal?r.default.createElement(i.PaymentMethodInput,{key:"payment-method#"+e,paymentMethod:o.PaymentMethod.Ideal,selected:this.props.paymentMethod===o.PaymentMethod.Ideal,onSelected:this.onPaymentMethodSelected,icons:["ideal"]}):null},t.prototype.render=function(){var e,t=this,a=this.props,o=a.countryCode,i=a.paymentSpec,l=a.showTrialVersion;e=l?i.only_default_payment_methods():i.available_payment_methods_for_country(o);var s=e.map(function(e){return t.getLabelForMethodId(e)});return r.default.createElement("div",{className:"payment-info__selector grid__container"},r.default.createElement("span",{className:"ax-visually-hidden"},n._("Select a payment method")),s)},t})(r.default.Component);t.PaymentMethodSelector=l}),define("modules/clean/react/payments/buy/components/payments/tos",["require","exports","tslib","react","modules/clean/react_format","modules/core/i18n","modules/clean/react/payments/buy/components/inputs/inputs","modules/clean/payments/skus/constants","modules/clean/react/payments/common/form_value_helpers"],function(e,t,a,r,n,o,i,l,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r=a.__importDefault(r);var c=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onTermsAndServiceChange=function(e){t.props.actions.updateTermsAndService(Boolean(!e.checked))},t.onTOSLabelClick=function(e){var a=t.props.formData.termsAndService.formattedValue;t.props.actions.updateTermsAndService(Boolean(!a))},t}return a.__extends(t,e),t.prototype.termsAndServiceErrorString=function(){var e=this.props.formData.termsAndService;return!s.FormValueHelper.isValid(e)&&e.showError?o._("Please agree to the terms of service."):""},t.prototype.renderLegalTermsBuy=function(){var e=this.props,t=e.currency,a=e.formData,i=e.totalPrice;return n.reactFormat(o._("You’ll be charged %(total_price)s %(schedule)s         until you <link_cancel>cancel</link_cancel> your subscription.        Previous charges <link_refund>won’t be refunded</link_refund> when         you cancel <link_required>unless it’s legally required</link_required>.        Your payment data is encrypted and secure.        All amounts shown are in %(currency)s."),{total_price:i,schedule:a.scheduleId.rawValue===l.ScheduleId.MONTHLY?o._("monthly"):o._("yearly"),link_cancel:r.default.createElement("a",{className:"terms-info__link","aria-label":"cancel-article",key:"tos-cancel",href:"/help/158",target:"_blank",rel:"noopener noreferrer"}),link_refund:r.default.createElement("a",{className:"terms-info__link","aria-label":"refund-article",key:"tos-refund",href:"/terms",target:"_blank",rel:"noopener noreferrer"}),link_required:r.default.createElement("a",{className:"terms-info__link","aria-label":"requirements-article",key:"tos-required",href:"/help/9069",target:"_blank",rel:"noopener noreferrer"}),currency:t})},t.prototype.renderLegalTermsTrial=function(){var e=this.props,t=e.currency,a=e.formData,i=e.totalPrice;return n.reactFormat(o._("Your free trial ends on %(trial_end_date)s. If you don’t <link_cancel>cancel</link_cancel>       your free trial by that date, we’ll charge you %(total_price)s %(schedule)s        (taxes included) until you cancel your plan. Charges <link_refund>won’t be refunded</link_refund>        when you cancel, <link_required>unless it’s legally required</link_required>. Your payment data is         encrypted and secure. All amounts shown are in %(currency)s."),{trial_end_date:a.trialEndDate.rawValue,total_price:i,schedule:a.scheduleId.rawValue===l.ScheduleId.MONTHLY?o._("monthly"):o._("yearly"),link_cancel:r.default.createElement("a",{className:"terms-info__link","aria-label":"cancel-article",key:"tos-cancel",href:"/help/space/cancel-plus",target:"_blank",rel:"noopener noreferrer"}),link_refund:r.default.createElement("a",{className:"terms-info__link","aria-label":"refund-article",key:"tos-refund",href:"/help/billing/plus-refund",target:"_blank",rel:"noopener noreferrer"}),link_required:r.default.createElement("a",{className:"terms-info__link","aria-label":"requirements-article",key:"tos-required",href:"/terms",target:"_blank",rel:"noopener noreferrer"}),currency:t})},t.prototype.render=function(){var e=this.props.formData,t=this.props.showTrialVersion?this.renderLegalTermsTrial():this.renderLegalTermsBuy(),a=n.reactFormat(o._("I agree to the <link>Dropbox Terms</link><br/>\n      and the <strong>Automatic Renewal Terms</strong> above"),{link:r.default.createElement("a",{className:"terms-info__tos--terms-link","aria-label":"terms",key:"link_dbx",href:"/terms",target:"_blank",rel:"noopener noreferrer"}),br:r.default.createElement("br",null),strong:r.default.createElement("strong",null)}),l=r.default.createElement("span",{className:"type--copy-small",onClick:this.onTOSLabelClick},a),s=r.default.createElement(i.LabeledCheckboxInput,{checked:e.termsAndService.rawValue,containerClassName:"grid__item terms-info__tos",className:"billing-terms-and-service",errorText:this.termsAndServiceErrorString(),labelText:l,name:"tos_agree",onClick:this.onTermsAndServiceChange});return r.default.createElement("div",{className:"terms-info"},r.default.createElement("p",{className:"terms-info__legal"},t),s)},t})(r.default.Component);t.TermsOfService=c}),define("modules/clean/react/payments/buy/components/payments/worldpay_entity_info",["require","exports","tslib","react"],function(e,t,a,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r=a.__importDefault(r);var n=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a.__extends(t,e),t.prototype.render=function(){return r.default.createElement("div",{className:"grid__container payment-entity-info__text"},r.default.createElement("p",null,"Dropbox International Unlimited Company",r.default.createElement("br",null),"One Park Place / Hatch Street Upper / Dublin 2 / Ireland"))},t})(r.default.Component);t.WorldPayEntityInfo=n}),define("modules/clean/react/payments/buy/components/plan/exp_plan_selection",["require","exports","tslib","react","modules/core/i18n","modules/clean/react_format","modules/clean/payments/skus/constants","modules/clean/react/payments/buy/components/inputs/inputs","modules/clean/analytics"],function(e,t,a,r,n,o,i,l,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r=a.__importDefault(r);var c=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onPlanChange=function(e,a,r){var n=e.currentTarget;r=r||n.value,t.handlePlanChange(parseInt(r,10))},t.onPlanLabelClick=function(e){t.handlePlanChange(e)},t}return a.__extends(t,e),t.prototype.handlePlanChange=function(e){if(e!==this.props.productPlanType){var t=e===i.ProductPlanType.PROFESSIONAL;this.props.actions.updateSelectedPlan(e,t),this.props.updateHistory(2,e,void 0,t),s.ProEventsLogger.log("pro_buy_checkout",{type:"QuotaSwitch",selectedPlanType:e})}},t.prototype.renderPlusPlanBlock=function(){var e=this,t=this.props,a=t.productPlanType,n=t.quotaStrings,o=r.default.createElement("span",{id:"plan-info__label--plus",className:"plan-info__label plan-info__label--bold plan-info__label--plus",onClick:function(){return e.onPlanLabelClick(i.ProductPlanType.PLUS)},"aria-hidden":"true"},n.plus);return r.default.createElement("div",{className:"plan-info__choice plan-info__plus"},r.default.createElement(l.LabeledRadioInput,{name:"plan_id",inputId:"plan-info__radio--plus",ariaLabelId:"plan-info__label--plus",className:"plan-info__radio",labelClassName:"plan-info__container",value:i.ProductPlanType.PLUS.toString(),checked:a===i.ProductPlanType.PLUS,labelSpan:o,onClickOrChange:this.onPlanChange}))},t.prototype.renderProfessionalPlanBlock=function(){var e=this,t=this.props,a=t.productPlanType,s=t.quotaStrings,c=r.default.createElement("span",{id:"plan-info__label--pro",className:"plan-info__label plan-info__label--bold plan-info__label--pro",onClick:function(){return e.onPlanLabelClick(i.ProductPlanType.PROFESSIONAL)},"aria-hidden":"true"},s.professional),u=o.reactFormat(n._("With <smart_sync>Smart Sync</smart_sync> and <showcase>Showcase</showcase>"),{smart_sync:r.default.createElement("a",{className:"plan-info__subtitle--underline",href:"/smart-sync"}),showcase:r.default.createElement("a",{className:"plan-info__subtitle--underline",href:"/showcase"})}),d=n._("Try free for %(pro_trial_days)d days").format({pro_trial_days:this.props.proTrialDays});return r.default.createElement("div",{className:"plan-info__choice plan-info__pro"},r.default.createElement(l.LabeledRadioInput,{name:"plan_id",inputId:"plan-info__radio--pro",ariaLabelId:"plan-info__label--pro",className:"plan-info__radio",labelClassName:"plan-info__container",value:i.ProductPlanType.PROFESSIONAL.toString(),checked:a===i.ProductPlanType.PROFESSIONAL,labelSpan:c,onClickOrChange:this.onPlanChange}),r.default.createElement("div",{className:"plan-info__subtitle plan-info__subtitle--pro"},u),r.default.createElement("div",{className:"plan-info__subtitle plan-info__subtitle--green"},d))},t.prototype.render=function(){return r.default.createElement("div",{className:"grid__container plan-info"},this.renderPlusPlanBlock(),r.default.createElement("div",{className:"plan-info__spacer"}),this.renderProfessionalPlanBlock())},t})(r.default.Component);t.ExpPlanSelection=c}),define("modules/clean/react/payments/buy/components/plan/schedule_selection",["require","exports","tslib","react","external/classnames","modules/core/i18n","modules/clean/payments/skus/constants","modules/clean/react/payments/buy/components/inputs/inputs"],function(e,t,a,r,n,o,i,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r=a.__importDefault(r),n=a.__importDefault(n);var s=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onScheduleChange=function(e,a,r){var n=e.currentTarget;r=r||n.value;var o=parseInt(r,10);o!==t.props.formData.scheduleId.formattedValue&&t.props.actions.updateSchedule(o)},t.onPlanLabelClick=function(e){e!==t.props.formData.scheduleId.formattedValue&&t.props.actions.updateSchedule(e)},t}return a.__extends(t,e),t.prototype.getPricingStrings=function(){var e,t,a,r,n,i,l,s=this.props.initialPricingStrings;if(s)e=o._("%(price)s / year").format({price:s.yearlyPrice}),n=o._("%(price)s per year. Save %(savings)s").format({price:s.yearlyPrice,savings:s.yearlySavings}),t=o._("%(price)s / month").format({price:s.monthlyPrice}),i=o._("%(price)s per month").format({price:s.monthlyPrice}),a=o._("%(price)s / year").format({price:s.yearlyWithoutSavings}),r=o._("Equivalent to %(price)s / month").format({price:s.annualPriceAsMonthly}),l=o._("%(yearly_price)s per year. Equivalent to %(monthly_equivalent)s per month").format({yearly_price:s.yearlyPrice,monthly_equivalent:s.annualPriceAsMonthly});else{var c=this.props.displayPrices,u=c.yearlyPrice,d=c.monthlyPrice,m=c.yearlySavings,p=c.taxInclusiveYearlyPrice,f=c.taxInclusiveMonthlyPrice,_=c.taxInclusiveYearlySavings;this.props.useAUTaxInclusivePricing?(e=o._("%(price)s / year").format({price:p?p.formatCurrency():""}),n=o._("%(price)s per year. Save %(savings)s. Prices include GST").format({price:p?p.formatCurrency():"",savings:_?_.formatCurrency():""}),t=o._("%(price)s / month").format({price:f?f.formatCurrency():""}),i=o._("%(price)s per month. Includes GST").format({price:f?f.formatCurrency():""}),a=o._("%(price)s / year").format({price:f?f.multiply(12).formatCurrency():""}),r=o._("Equivalent to %(price)s / month").format({price:p?p.divide(12).formatCurrency():""}),l=o._("%(yearly_price)s per year. Equivalent to %(monthly_equivalent)s per month. Prices include GST").format({yearly_price:p?p.formatCurrency():"",monthly_equivalent:p?p.divide(12).formatCurrency():""})):(e=o._("%(price)s / year").format({price:u?u.formatCurrency():""}),n=o._("%(price)s per year. Save %(savings)s").format({price:u?u.formatCurrency():"",savings:m?m.formatCurrency():""}),t=o._("%(price)s / month").format({price:d?d.formatCurrency():""}),i=o._("%(price)s per month").format({price:d?d.formatCurrency():""}),a=o._("%(price)s / year").format({price:d?d.multiply(12).formatCurrency():""}),r=o._("Equivalent to %(price)s / month").format({price:u?u.divide(12).formatCurrency():""}),l=o._("%(yearly_price)s per year. Equivalent to %(monthly_equivalent)s per month").format({yearly_price:u?u.formatCurrency():"",monthly_equivalent:u?u.divide(12).formatCurrency():""}))}return{yearlyPrice:e,yearlyPriceAx:n,monthlyPrice:t,monthlyPriceAx:i,yearlyPriceNoSavings:a,yearlyEquivalentToMonthly:r,yearlyEquivalentToMonthlyAx:l,yearlyGstIncluded:o._("(prices include GST)"),monthlyGstIncluded:o._("(includes GST)")}},t.prototype.renderYearlyPlanBlock=function(){var e=this,t=this.props.formData.scheduleId.formattedValue,a=this.getPricingStrings(),s=a.yearlyPrice,c=a.yearlyPriceAx,u=a.yearlyPriceNoSavings,d=a.yearlyEquivalentToMonthly,m=a.yearlyEquivalentToMonthlyAx,p=a.yearlyGstIncluded,f=n.default({"plan-info__savings":!0,"plan-info__savings--strike":"en"===this.props.locale&&"V1"!==this.props.subgrowthProBuyStep2PricingMessaging}),_=o._("(includes 2 free months)"),h=c;"en"===this.props.locale&&("V1"===this.props.subgrowthProBuyStep2PricingMessaging?(_=d,h=m):_=u);var y=r.default.createElement("span",{id:"plan-info__label--yearly",className:"plan-info__label plan-info__label--yearly",onClick:function(){return e.onPlanLabelClick(i.ScheduleId.YEARLY)},"aria-hidden":"true"},o._("Billed Yearly"));return r.default.createElement("div",{className:"plan-info__choice plan-info__yearly"},r.default.createElement(l.LabeledRadioInput,{name:"schedule_id",inputId:"plan-info__radio--yearly",ariaLabelId:"plan-info__label--yearly",className:"plan-info__radio",labelClassName:"plan-info__container",value:i.ScheduleId.YEARLY.toString(),checked:t===i.ScheduleId.YEARLY,labelSpan:y,onClickOrChange:this.onScheduleChange}),r.default.createElement("div",{className:"plan-info__subtitle","aria-hidden":"true"},s),r.default.createElement("span",{className:"ax-visually-hidden"},h),r.default.createElement("div",{"aria-hidden":"true",className:f},_),this.props.useAUTaxInclusivePricing&&r.default.createElement("div",{className:"plan-info__subtitle","aria-hidden":"true"},p))},t.prototype.renderMonthlyPlanBlock=function(){var e=this,t=this.props.formData.scheduleId.formattedValue,a=this.getPricingStrings(),n=a.monthlyPrice,s=a.monthlyPriceAx,c=a.monthlyGstIncluded,u=r.default.createElement("span",{id:"plan-info__label--monthly",className:"plan-info__label plan-info__label--monthly",onClick:function(){return e.onPlanLabelClick(i.ScheduleId.MONTHLY)},"aria-hidden":"true"},o._("Billed Monthly"));return r.default.createElement("div",{className:"plan-info__choice plan-info__monthly"},r.default.createElement(l.LabeledRadioInput,{name:"schedule_id",inputId:"plan-info__radio--monthly",ariaLabelId:"plan-info__label--monthly",className:"plan-info__radio",labelClassName:"plan-info__container",value:i.ScheduleId.MONTHLY.toString(),checked:t===i.ScheduleId.MONTHLY,labelSpan:u,onClickOrChange:this.onScheduleChange}),r.default.createElement("div",{className:"plan-info__subtitle","aria-hidden":"true"},n),r.default.createElement("span",{className:"ax-visually-hidden"},s),this.props.useAUTaxInclusivePricing&&r.default.createElement("div",{className:"plan-info__subtitle","aria-hidden":"true"},c))},t.prototype.render=function(){return r.default.createElement("div",{className:"grid__container plan-info"},this.renderYearlyPlanBlock(),r.default.createElement("div",{className:"plan-info__spacer"}),this.renderMonthlyPlanBlock())},t})(r.default.Component);t.ScheduleSelection=s}),define("modules/clean/react/payments/buy/helpers/pricing_value_helper",["require","exports","modules/clean/payments/skus/constants"],function(e,t,a){"use strict";function r(e,t){var r,n,i,l,s,c;if(e){var u=o(e,t.productPlanType.formattedValue,a.ScheduleId.MONTHLY,!1),d=o(e,t.productPlanType.formattedValue,a.ScheduleId.YEARLY,!1);if(d&&(r=d.nextBillingSummary.base,l=d.nextBillingSummary.total),u&&(n=u.nextBillingSummary.base,s=u.nextBillingSummary.total),r&&n){var m=n.multiply(12).subtract(r);i=m.amount>0?m:void 0}if(l&&s){var p=s.multiply(12).subtract(l);c=p.amount>0?p:void 0}}return{yearlyPrice:r,monthlyPrice:n,yearlySavings:i,taxInclusiveYearlyPrice:l,taxInclusiveMonthlyPrice:s,taxInclusiveYearlySavings:c}}function n(e,t){var a,r,n,i,l,s,c,u;if(e&&(a=o(e,t.productPlanType.formattedValue,t.scheduleId.formattedValue,!!t.evh.rawValue)),a&&a.tvm){var d=a.tvm;r=d.getTotalPrice(),n=d.getTaxCountryCode(),i=d.getTaxPercentage(),l=d.getTaxPrice(),s=d.getCurrency(),c=d.getTotalTaxWithheld(),u=d.getWithheldTaxPercentage()}return{totalPrice:r,taxCountryCode:n,taxPercentage:i,taxAmount:l,currency:s,withheldTaxAmount:c,withheldTaxPercentage:u}}function o(e,t,a,r){return e.filter(function(e){var n=e.finalSubState.plan,o=e.finalSubState.billingSchedule,i=!!e.finalSubState.addons.skus.length;return n&&n.productType===t&&o&&o.id===a&&i===r}).pop()}Object.defineProperty(t,"__esModule",{value:!0}),t.getDisplayPrices=r,t.getCurrentTransitionPrices=n});
//# sourceMappingURL=pkg-purchase-form.min.js-vflx2ChbU.map